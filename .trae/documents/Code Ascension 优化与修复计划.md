# Code Ascension 体验优化与 Bug 修复

我将根据您的反馈进行以下优化和修复：

## 1. 手牌显示优化
- **单行滚动**：强制 `#hand-container` 使用单行布局 (`flex-nowrap`)，超出部分使用水平滚动 (`overflow-x-auto`)，避免多行时悬停卡牌遮挡出牌区。
- **调整间距**：优化卡牌间距，确保悬停时不会被裁切。

## 2. 回合控制与交互限制
- **视觉灰化**：在非玩家回合（对方回合），将玩家手牌区、装备区和操作按钮（结束回合、合并发版）设置为灰色 (`grayscale`) 并降低透明度。
- **交互禁用**：
  - 在对方回合，禁用“结束回合”按钮。
  - 在对方回合，禁用手牌点击（响应阶段除外，如闪避询问）。
  - 确保响应阶段（如对方出杀问你闪）时，虽然是对方回合，但玩家仍可操作弹窗。

## 3. 自动扣血逻辑
- **无闪自动受伤**：在 `askForCard` 逻辑中，如果玩家手牌中没有“代码回滚”（闪），直接跳过询问弹窗，自动判定为受击扣血。

## 4. 判定区与动画
- **新增区域**：在玩家和 AI 的装备区旁新增“判定区” (`judge-area`)。
- **动画效果**：判定阶段时，判定牌会高亮/放大，模拟“抽取”过程，并在日志中显示结果。

## 5. AI 调整
- **降速**：将 AI 出牌间隔从 800ms/500ms 延长至 1500ms，让玩家看清操作。
- **先手逻辑**：调整初始化逻辑，确保第一回合由 AI 开始（目前代码中 `turnIndex` 初始为 1 且 `init` 调用 `nextTurn` 会切到 0，需调整为让 `nextTurn` 切换后是 AI）。

确认计划后，我将开始执行修改。