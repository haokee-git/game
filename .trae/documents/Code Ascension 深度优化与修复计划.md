# Code Ascension 深度优化与修复计划

我将执行以下全面的修复和优化方案：

## 1. 界面布局与交互修复
- **出牌区重构**：将右侧“CODE WAR”区域拆分为上下两行，上方显示 AI 打出的牌，下方显示玩家打出的牌，解决视觉杂乱问题。
- **手牌显示修复**：
  - 为手牌容器增加顶部内边距 (`pt-8`)，防止卡牌悬停上浮时顶部边框被裁切。
  - 添加鼠标滚轮事件监听，允许通过滚轮横向滚动查看手牌。
- **装备/判定区优化**：将玩家和 AI 的装备/判定区改为 `grid grid-cols-2` 双列布局，容纳更多卡牌。

## 2. 核心逻辑修复
- **合并发版 (Merge Attack) 伤害**：修复伤害计算逻辑，使其正确享受“打鸡血” (Drunk) 和“996福报” (Berserk) 的伤害加成。
- **AI 跳过回合 Bug**：在玩家回合开始时强制刷新 UI 状态，确保即使 AI 异常跳过回合，玩家的操作面板也能正确解锁。
- **AI 备用方案智能**：优化 AI 逻辑，使其优先存储“获得融资”(桃) 或“代码回滚”(闪)，而不是随机存牌。

## 3. 新增功能与动画
- **展示手牌交互**：为“技术辩论”(决斗) 等需要展示手牌的效果添加交互逻辑。玩家可选择展示哪张牌，AI 则随机展示。
- **被动触发动画**：为“防火墙”、“负载均衡”等装备效果添加触发动画。

## 4. 执行步骤
1. 修改 `index.html` 调整布局结构。
2. 修改 `game_bundle.js` 实现上述逻辑修复和新功能。

确认后将立即执行。